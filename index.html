<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora de Troca de Ar-Condicionado</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <header>
    <h1>Calculadora de Economia na Troca de Ar-Condicionado</h1>
    <button id="toggleTheme">Tema Escuro</button>
  </header>

  <main class="grid">
    <fieldset>
      <legend>Dados de Uso</legend>
      <label>Horas/dia <input type="number" id="horasDia" value="8" min="1" step="0.5" required placeholder="Ex: 8"></label>
      <label>Meses/ano <input type="number" id="mesesAno" value="6" min="1" max="12" required placeholder="Ex: 6 (verão)"></label>
      <label>Área (m²) <input type="number" id="area" value="15" required placeholder="Área total refrigerada"></label>
      <label>Temp externa min (°C) <input type="number" id="tempMin" value="25" required placeholder="Ex: 25 à noite"></label>
      <label>Temp externa max (°C) <input type="number" id="tempMax" value="35" required placeholder="Ex: 35 ao meio-dia"></label>
      <label>Preço kWh (R$) <input type="number" id="precoKwh" value="0.90" step="0.01" required placeholder="Verifique na conta"></label>
    </fieldset>

    <fieldset>
      <legend>Aparelho Antigo</legend>
      <label>Tipo <select id="tipoAntigo"><option value="onoff">On-off (antigo)</option><option value="inverter">Inverter</option></select></label>
      <label>Etiqueta <select id="etiquetaAntigo"><option value="nova">Nova (kWh/ano)</option><option value="antiga">Antiga (kWh/mês)</option></select></label>
      <label>BTU/h <input type="number" id="btuAntigo" value="12000" required placeholder="Ex: 12000"></label>
      <label>Classe <select id="classeAntigo"><option value="">Não sei</option><option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="D">D</option><option value="E">E</option><option value="F">F</option></select></label>
      <label>Idade (anos) <input type="number" id="idadeAntigo" value="10" min="0" required placeholder="Ex: 10 anos de uso"></label>
      <label>Limpeza <select id="limpezaAntigo"><option value="emdia" selected>Em dia</option><option value="pendente">Pendente</option></select></label>
      <label>Manutenção <select id="manutencaoAntigo"><option value="emdia" selected>Em dia</option><option value="pendente">Pendente</option></select></label>
      <label>Consumo (opcional) <input type="number" id="consumoAntigo" placeholder="Deixe vazio para default"> <select id="unidadeAntigo"><option value="ano">kWh/ano</option><option value="mes">kWh/mês</option></select></label>
    </fieldset>

    <fieldset>
      <legend>Aparelho Novo</legend>
      <label>Tipo <select id="tipoNovo"><option value="inverter">Inverter</option><option value="onoff">On-off</option></select></label>
      <label>Etiqueta <select id="etiquetaNovo"><option value="nova">Nova (kWh/ano)</option><option value="antiga">Antiga (kWh/mês)</option></select></label>
      <label>BTU/h <input type="number" id="btuNovo" value="12000" required placeholder="Ex: 12000"></label>
      <label>Classe <select id="classeNovo"><option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="">Não sei</option></select></label>
      <label>Consumo (opcional) <input type="number" id="consumoNovo" placeholder="Deixe vazio para default"> <select id="unidadeNovo"><option value="ano">kWh/ano</option><option value="mes">kWh/mês</option></select></label>
      <label>Custo novo (R$) <input type="number" id="custoNovo" value="5000" required placeholder="Preço estimado"></label>
    </fieldset>

    <div class="actions">
      <button id="calcular">Calcular Economia</button>
      <button id="exportPdf">Exportar PDF</button>
    </div>

    <section id="resultados" class="card">
      <h2>Resultados</h2>
      <div id="output"></div>
    </section>

    <section class="card">
      <h2>Gráfico: Payback vs Horas/dia</h2>
      <canvas id="graficoPayback"></canvas>
    </section>
  </main>

  <script src="js/script.js"></script>
</body>
</html>